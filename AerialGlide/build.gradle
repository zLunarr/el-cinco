allprojects {
    repositories {
        mavenCentral()
    }
}

subprojects {
    apply plugin: 'java'
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

project(':core') {
    dependencies {
        implementation 'com.badlogicgames.gdx:gdx:1.12.1'
    }
}

project(':desktop') {
    dependencies {
        implementation project(':core')
        implementation 'com.badlogicgames.gdx:gdx-backend-lwjgl3:1.12.1'
        implementation 'com.badlogicgames.gdx:gdx-platform:1.12.1:natives-desktop'
    }

    jar {
        archiveBaseName = 'aerial-glide-desktop'
        duplicatesStrategy = DuplicatesStrategy.EXCLUDE
        manifest {
            attributes 'Main-Class': 'com.aerialglide.desktop.DesktopLauncher'
        }
        from {
            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
        }
    }

    processResources {
        from('../Resources')
    }
}
